local_repository(
    name = "rules_intellij",
    path = "../../",
)


load(
    "@rules_intellij//intellij:repositories.bzl",
    "RULES_INTELLIJ_JAVA_ARTIFACTS",
    "rules_intellij_repositories",
)

rules_intellij_repositories()

load(
    "@io_grpc_grpc_java//:repositories.bzl",
    "IO_GRPC_GRPC_JAVA_ARTIFACTS",
    "IO_GRPC_GRPC_JAVA_OVERRIDE_TARGETS",
    "grpc_java_repositories",
)

grpc_java_repositories()

load(
    "@com_google_protobuf//:protobuf_deps.bzl",
    "PROTOBUF_MAVEN_ARTIFACTS",
    "protobuf_deps",
)

protobuf_deps()

load("@rules_jvm_external//:defs.bzl", "maven_install")

maven_install(
    artifacts = IO_GRPC_GRPC_JAVA_ARTIFACTS + PROTOBUF_MAVEN_ARTIFACTS + RULES_INTELLIJ_JAVA_ARTIFACTS,
    generate_compat_repositories = True,
    override_targets = IO_GRPC_GRPC_JAVA_OVERRIDE_TARGETS,
    repositories = ["https://repo.maven.apache.org/maven2/"],
)

load("@maven//:compat.bzl", "compat_repositories")

compat_repositories()

register_toolchains("//:intellij_project")
